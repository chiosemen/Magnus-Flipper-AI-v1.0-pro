### Magnus Flipper Production ENV Template ###
# Copy this to .env.production and fill in your actual values

# ============================================
# CORE CONFIGURATION
# ============================================
NODE_ENV=production

# Internal API Key (generate with: openssl rand -hex 32)
MAGNUS_API_KEY=<generate-with-openssl-rand-hex-32>

# ============================================
# API URLS
# ============================================
# API URL (Render deployment)
NEXT_PUBLIC_API_URL=https://magnus-flipper-api.onrender.com

# Mobile app API URL
EXPO_PUBLIC_API_URL=https://magnus-flipper-api.onrender.com
MAGNUS_WEB_URL=https://your-vercel-url-here.vercel.app
MAGNUS_API_URL=https://magnus-flipper-api.onrender.com
HEALTH_CHECK_INTERVAL_MS=60000
TELEGRAM_CHAT_ID=<optional-chat-id-for-alerts>

# ============================================
# SUPABASE (Database)
# ============================================
SUPABASE_URL=https://<your-project-id>.supabase.co
SUPABASE_ANON_KEY=<your-supabase-anon-key>
SUPABASE_SERVICE_ROLE=<your-supabase-service-role-key>

# Optional: Direct database URL (from Supabase settings)
DATABASE_URL=postgresql://postgres:<password>@<host>:5432/postgres

# ============================================
# REDIS (Queue System)
# ============================================
# Format: redis://default:<password>@<host>:<port>
# Or for Upstash: rediss://default:<password>@<host>:<port>
REDIS_URL=redis://default:<password>@<host>:<port>

# ============================================
# TELEGRAM BOT
# ============================================
# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=<your-telegram-bot-token>

# ============================================
# WORKER CONFIGURATION
# ============================================
# Queue retry settings
QUEUE_RETRY_LIMIT=5
QUEUE_BACKOFF=2000

# Worker concurrency (jobs processed simultaneously)
WORKER_CONCURRENCY=3

# Scheduler interval (milliseconds between scan cycles)
SCHEDULER_INTERVAL=300000

# ============================================
# CRAWLER CONFIGURATION
# ============================================
# Playwright Chromium path (for Render)
CHROMIUM_PATH=/usr/bin/chromium-browser

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# Max retries for failed requests
MAX_RETRIES=3

# ============================================
# OPTIONAL: MARKETPLACE PROXIES
# ============================================
# FB_MARKETPLACE_PROXY_URL=http://proxy-server:8080
# VINTED_API_KEY=<vinted-api-key>

# ============================================
# OPTIONAL: NOTIFICATION SERVICES
# ============================================
# Email (SendGrid)
# SENDGRID_API_KEY=<your-sendgrid-key>
# FROM_EMAIL=noreply@magnus-flipper.com

# SMS (Twilio)
# TWILIO_ACCOUNT_SID=<your-twilio-sid>
# TWILIO_AUTH_TOKEN=<your-twilio-token>
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# OPTIONAL: PAYMENTS (Stripe)
# ============================================
# STRIPE_SECRET_KEY=sk_live_<your-stripe-secret>
# STRIPE_PUBLISHABLE_KEY=pk_live_<your-stripe-publishable>
# STRIPE_WEBHOOK_SECRET=whsec_<your-webhook-secret>

# ============================================
# OPTIONAL: MONITORING
# ============================================
# Sentry error tracking
# SENTRY_DSN=https://<key>@sentry.io/<project>
# SENTRY_ENVIRONMENT=production

# Logging level
LOG_LEVEL=info

# ============================================
# SECURITY
# ============================================
# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=https://magnus-flipper.vercel.app,https://magnus-flipper-web.vercel.app

# JWT secret (generate with: openssl rand -hex 64)
# JWT_SECRET=<generate-with-openssl-rand-hex-64>

# ============================================
# HOW TO USE THIS FILE
# ============================================
# 1. Copy this file:
#    cp .env.production.template .env.production
#
# 2. Generate keys:
#    openssl rand -hex 32  # For MAGNUS_API_KEY
#
# 3. Get Supabase credentials:
#    https://app.supabase.com → Project → Settings → API
#
# 4. Create Render Redis:
#    https://dashboard.render.com → New Redis → Copy Internal URL
#
# 5. Create Telegram bot:
#    Telegram → @BotFather → /newbot
#
# 6. Fill in all <placeholder> values
#
# 7. Sync to apps:
#    ./scripts/env-sync.sh
#
# ============================================
