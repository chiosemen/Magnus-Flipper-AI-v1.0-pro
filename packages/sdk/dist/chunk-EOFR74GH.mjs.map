{"version":3,"sources":["../src/provider/MagnusContext.tsx","../src/client.ts","../src/api/alerts.ts","../src/api/deals.ts","../src/api/watchlists.ts","../src/magnus.ts"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useMemo } from \"react\";\nimport { MagnusSDK } from \"../magnus\";\nimport { SDKClientOptions } from \"../client\";\n\ntype MagnusContextType = { sdk: MagnusSDK };\n\nconst MagnusContext = createContext<MagnusContextType | null>(null);\n\nexport function MagnusProvider({\n  children,\n  options\n}: {\n  children: React.ReactNode;\n  options?: SDKClientOptions;\n}) {\n  const sdk = useMemo(\n    () => new MagnusSDK(options ?? {}),\n    [options?.baseURL, options?.apiKey]\n  );\n\n  return <MagnusContext.Provider value={{ sdk }}>{children}</MagnusContext.Provider>;\n}\n\nexport function useMagnusSDK() {\n  const ctx = useContext(MagnusContext);\n  if (!ctx) throw new Error(\"useMagnusSDK must be used within MagnusProvider\");\n  return ctx.sdk;\n}\n","import axios, { AxiosInstance } from \"axios\";\n\nexport interface SDKClientOptions {\n  baseURL?: string;\n  apiKey?: string;\n}\n\nexport class SDKClient {\n  axios: AxiosInstance;\n\n  constructor(opts: SDKClientOptions = {}) {\n    this.axios = axios.create({\n      baseURL: opts.baseURL || process.env.NEXT_PUBLIC_API_URL || \"http://localhost:4000\",\n      headers: opts.apiKey ? { Authorization: `Bearer ${opts.apiKey}` } : {}\n    });\n  }\n}\n","import { SDKClient } from \"../client\";\nimport { Alert } from \"../types\";\n\nexport interface AlertCreateInput {\n  user_id: string;\n  deal_id: string;\n  channel: \"email\" | \"sms\" | \"push\";\n}\n\nexport class AlertsAPI {\n  constructor(private client: SDKClient) {}\n\n  async create(payload: AlertCreateInput): Promise<Alert> {\n    const res = await this.client.axios.post<Alert>(\"/api/alerts\", payload);\n    return res.data;\n  }\n\n  async list(): Promise<Alert[]> {\n    const res = await this.client.axios.get<Alert[]>(\"/api/alerts\");\n    return res.data;\n  }\n}\n","import { SDKClient } from \"../client\";\nimport { DealsResponse } from \"../types\";\n\nexport class DealsAPI {\n  constructor(private client: SDKClient) {}\n\n  async list(minScore?: number): Promise<DealsResponse> {\n    const res = await this.client.axios.get<DealsResponse>(\"/api/deals\", {\n      params: minScore != null ? { minScore } : {}\n    });\n    return res.data;\n  }\n}\n","import { SDKClient } from \"../client\";\nimport { Watchlist, WatchlistCreateInput } from \"../types\";\n\nexport class WatchlistsAPI {\n  constructor(private client: SDKClient) {}\n\n  async list(): Promise<Watchlist[]> {\n    const res = await this.client.axios.get<Watchlist[]>(\"/api/watchlists\");\n    return res.data;\n  }\n\n  async create(payload: WatchlistCreateInput): Promise<Watchlist> {\n    const res = await this.client.axios.post<Watchlist>(\"/api/watchlists\", payload);\n    return res.data;\n  }\n\n  async delete(id: string): Promise<{ success: boolean }> {\n    const res = await this.client.axios.delete<{ success: boolean }>(`/api/watchlists/${id}`);\n    return res.data;\n  }\n}\n","import { SDKClient, SDKClientOptions } from \"./client\";\nimport { AlertsAPI } from \"./api/alerts\";\nimport { DealsAPI } from \"./api/deals\";\nimport { WatchlistsAPI } from \"./api/watchlists\";\n\nexport class MagnusSDK {\n  deals: DealsAPI;\n  alerts: AlertsAPI;\n  watchlists: WatchlistsAPI;\n\n  constructor(opts: SDKClientOptions = {}) {\n    const client = new SDKClient(opts);\n    this.deals = new DealsAPI(client);\n    this.alerts = new AlertsAPI(client);\n    this.watchlists = new WatchlistsAPI(client);\n  }\n}\n\nexport type { SDKClientOptions } from \"./client\";\n"],"mappings":";AAEA,SAAgB,eAAe,YAAY,eAAe;;;ACF1D,OAAO,WAA8B;AAO9B,IAAM,YAAN,MAAgB;AAAA,EAGrB,YAAY,OAAyB,CAAC,GAAG;AACvC,SAAK,QAAQ,MAAM,OAAO;AAAA,MACxB,SAAS,KAAK,WAAW,QAAQ,IAAI,uBAAuB;AAAA,MAC5D,SAAS,KAAK,SAAS,EAAE,eAAe,UAAU,KAAK,MAAM,GAAG,IAAI,CAAC;AAAA,IACvE,CAAC;AAAA,EACH;AACF;;;ACPO,IAAM,YAAN,MAAgB;AAAA,EACrB,YAAoB,QAAmB;AAAnB;AAAA,EAAoB;AAAA,EAExC,MAAM,OAAO,SAA2C;AACtD,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,KAAY,eAAe,OAAO;AACtE,WAAO,IAAI;AAAA,EACb;AAAA,EAEA,MAAM,OAAyB;AAC7B,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,IAAa,aAAa;AAC9D,WAAO,IAAI;AAAA,EACb;AACF;;;AClBO,IAAM,WAAN,MAAe;AAAA,EACpB,YAAoB,QAAmB;AAAnB;AAAA,EAAoB;AAAA,EAExC,MAAM,KAAK,UAA2C;AACpD,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,IAAmB,cAAc;AAAA,MACnE,QAAQ,YAAY,OAAO,EAAE,SAAS,IAAI,CAAC;AAAA,IAC7C,CAAC;AACD,WAAO,IAAI;AAAA,EACb;AACF;;;ACTO,IAAM,gBAAN,MAAoB;AAAA,EACzB,YAAoB,QAAmB;AAAnB;AAAA,EAAoB;AAAA,EAExC,MAAM,OAA6B;AACjC,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,IAAiB,iBAAiB;AACtE,WAAO,IAAI;AAAA,EACb;AAAA,EAEA,MAAM,OAAO,SAAmD;AAC9D,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,KAAgB,mBAAmB,OAAO;AAC9E,WAAO,IAAI;AAAA,EACb;AAAA,EAEA,MAAM,OAAO,IAA2C;AACtD,UAAM,MAAM,MAAM,KAAK,OAAO,MAAM,OAA6B,mBAAmB,EAAE,EAAE;AACxF,WAAO,IAAI;AAAA,EACb;AACF;;;ACfO,IAAM,YAAN,MAAgB;AAAA,EAKrB,YAAY,OAAyB,CAAC,GAAG;AACvC,UAAM,SAAS,IAAI,UAAU,IAAI;AACjC,SAAK,QAAQ,IAAI,SAAS,MAAM;AAChC,SAAK,SAAS,IAAI,UAAU,MAAM;AAClC,SAAK,aAAa,IAAI,cAAc,MAAM;AAAA,EAC5C;AACF;;;ALMS;AAdT,IAAM,gBAAgB,cAAwC,IAAI;AAE3D,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA;AACF,GAGG;AACD,QAAM,MAAM;AAAA,IACV,MAAM,IAAI,UAAU,WAAW,CAAC,CAAC;AAAA,IACjC,CAAC,SAAS,SAAS,SAAS,MAAM;AAAA,EACpC;AAEA,SAAO,oBAAC,cAAc,UAAd,EAAuB,OAAO,EAAE,IAAI,GAAI,UAAS;AAC3D;AAEO,SAAS,eAAe;AAC7B,QAAM,MAAM,WAAW,aAAa;AACpC,MAAI,CAAC,IAAK,OAAM,IAAI,MAAM,iDAAiD;AAC3E,SAAO,IAAI;AACb;","names":[]}